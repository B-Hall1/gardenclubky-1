<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Cael Clarkson">
	<meta name="Kentucky Garden Site" description="garden club website with image of gardens and ways to join">
	<title>Ky Garden Club</title>
	<link rel="stylesheet" href="./style.css">

</head>
<!-- navbar -->
<header>
	<img src="./images/kygardenclub.jpg" alt="">
	<nav>
		<ul>
			<li><a href="#home">Home</a></li>
			<li><a href="#membership">Membership</a></li>
			<li><a href="#news">News</a></li>
			<li><a href="#contact">Contact Us</a></li>
		</ul>
	</nav>
</header>

<body>
	<div id="main">
		<ul id="eventList"></ul>
		<iframe src="https://calendar.google.com/calendar/embed?src=b4b2edf0ab559cfda8e1fed3a5ba5d370215d5021cabb79e53db9081f21ed004%40group.calendar.google.com&ctz=America%2FChicago" width="500" height="500"></iframe>
		<iframe src="https://www.google.com/maps/d/embed?mid=1uL6iG_3lYVcfll6aIkV0c53XLlY" width="500" height="500"></iframe>
	</div>
	<footer>
		<p class="copy">&copy; 2021 KY Garden Club. All rights reserved.</p>
	</footer>
</body>
<script src="https://apis.google.com/js/api.js"></script>
<script>
	gapi.load('client', initClient); // load the client API
	function initClient() {
		// API key and Calendar ID
		var apiKey = 'AIzaSyCZw30QaziriYCzkHlmXAaUmxwX8Ou6D9Y';
		var calendarId = 'b4b2edf0ab559cfda8e1fed3a5ba5d370215d5021cabb79e53db9081f21ed004@group.calendar.google.com';
		// authorize the client with API key
		gapi.client.init({
			'apiKey': apiKey,
		}).then(function () {
			// make the API request
			return gapi.client.request({
				'path': `https://www.googleapis.com/calendar/v3/calendars/${calendarId}/events?orderBy=startTime&singleEvents=true`,
			})
		}).then(function (response) {
			// handle the API response
			var events = response.result.items;
			var eventList = document.getElementById('eventList');
			events.map(function (event) {
				var eventItem = document.createElement('li');
				var eventLink = document.createElement('a');
				eventLink.href = event.htmlLink;
				eventLink.target = '_blank';
				eventLink.innerText = event.summary;
				eventItem.innerText = new Date(event.start.dateTime).toLocaleString() + ': ';
				eventItem.appendChild(eventLink);
				eventList.appendChild(eventItem);
			})
		}, function (reason) {
			// handle the error
			console.log(reason);
		});
	}
</script>